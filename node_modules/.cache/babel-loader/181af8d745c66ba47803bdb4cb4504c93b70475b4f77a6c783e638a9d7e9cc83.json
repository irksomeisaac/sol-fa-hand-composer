{"ast":null,"code":"// Constants\nconst FINGERS = {\n  THUMB: [1, 2, 3, 4],\n  INDEX: [5, 6, 7, 8],\n  MIDDLE: [9, 10, 11, 12],\n  RING: [13, 14, 15, 16],\n  PINKY: [17, 18, 19, 20]\n};\nconst THRESHOLDS = {\n  EXTENSION: 0.6,\n  // Threshold for considering a finger extended\n  CURL: 0.4,\n  // Threshold for considering a finger curled\n  PARTIAL: 0.5 // Threshold for partial extension\n};\n\n// Helper Functions\nconst distance = (p1, p2) => {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2) + Math.pow(p1.z - p2.z, 2));\n};\nconst normalize = vector => {\n  const magnitude = Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);\n  return {\n    x: vector.x / magnitude,\n    y: vector.y / magnitude,\n    z: vector.z / magnitude\n  };\n};\n\n// Get finger extension values\nconst getFingerExtension = (landmarks, fingerIndices) => {\n  const base = landmarks[fingerIndices[0]];\n  const tip = landmarks[fingerIndices[3]];\n  const mid1 = landmarks[fingerIndices[1]];\n  const mid2 = landmarks[fingerIndices[2]];\n\n  // Get direct distance from base to tip\n  const directLength = distance(base, tip);\n\n  // Get sum of segment lengths\n  const segmentLength = distance(base, mid1) + distance(mid1, mid2) + distance(mid2, tip);\n\n  // Return ratio (0 = fully bent, 1 = straight)\n  return directLength / segmentLength;\n};\n\n// Get hand direction\nconst getHandDirection = landmarks => {\n  const wrist = landmarks[0];\n  const middle_tip = landmarks[12];\n\n  // Get direction vector\n  const dir = {\n    x: middle_tip.x - wrist.x,\n    y: middle_tip.y - wrist.y,\n    z: middle_tip.z - wrist.z\n  };\n  const normalized = normalize(dir);\n\n  // Calculate angles\n  const verticalAngle = Math.atan2(-normalized.y, Math.sqrt(normalized.x * normalized.x + normalized.z * normalized.z)) * (180 / Math.PI);\n  return {\n    direction: normalized,\n    verticalAngle,\n    isPointingUp: verticalAngle > 45,\n    isPointingDown: verticalAngle < -45,\n    isPointingForward: Math.abs(normalized.z) > Math.max(Math.abs(normalized.x), Math.abs(normalized.y)),\n    isHorizontal: Math.abs(verticalAngle) < 30\n  };\n};\n\n// Get palm direction\nconst getPalmDirection = landmarks => {\n  const wrist = landmarks[0];\n  const index_base = landmarks[5];\n  const pinky_base = landmarks[17];\n\n  // Get vectors along palm\n  const v1 = {\n    x: index_base.x - wrist.x,\n    y: index_base.y - wrist.y,\n    z: index_base.z - wrist.z\n  };\n  const v2 = {\n    x: pinky_base.x - wrist.x,\n    y: pinky_base.y - wrist.y,\n    z: pinky_base.z - wrist.z\n  };\n\n  // Cross product for palm normal\n  const normal = {\n    x: v1.y * v2.z - v1.z * v2.y,\n    y: v1.z * v2.x - v1.x * v2.z,\n    z: v1.x * v2.y - v1.y * v2.x\n  };\n  const normalized = normalize(normal);\n  return {\n    normal: normalized,\n    isDown: normalized.y > 0.5,\n    isUp: normalized.y < -0.5,\n    isSide: Math.abs(normalized.x) > 0.5\n  };\n};\n\n// Analyze finger positions\nconst analyzeFingers = landmarks => {\n  const extensions = {\n    thumb: getFingerExtension(landmarks, FINGERS.THUMB),\n    index: getFingerExtension(landmarks, FINGERS.INDEX),\n    middle: getFingerExtension(landmarks, FINGERS.MIDDLE),\n    ring: getFingerExtension(landmarks, FINGERS.RING),\n    pinky: getFingerExtension(landmarks, FINGERS.PINKY)\n  };\n  return {\n    values: extensions,\n    allExtended: Object.values(extensions).every(v => v > THRESHOLDS.EXTENSION),\n    allClosed: Object.values(extensions).every(v => v < THRESHOLDS.CURL),\n    partiallyClosed: Object.values(extensions).every(v => v > THRESHOLDS.CURL && v < THRESHOLDS.EXTENSION)\n  };\n};\n\n// Main recognition function\nexport function recognizeKodalySign(landmarks) {\n  if (!landmarks || landmarks.length < 21) return null;\n  const fingers = analyzeFingers(landmarks);\n  const handDir = getHandDirection(landmarks);\n  const palmDir = getPalmDirection(landmarks);\n\n  // Debug info\n  const debug = {\n    extensions: fingers.values,\n    handDirection: {\n      verticalAngle: handDir.verticalAngle,\n      isPointingUp: handDir.isPointingUp,\n      isPointingDown: handDir.isPointingDown,\n      isPointingForward: handDir.isPointingForward,\n      isHorizontal: handDir.isHorizontal\n    },\n    palmOrientation: {\n      isDown: palmDir.isDown,\n      isUp: palmDir.isUp,\n      isSide: palmDir.isSide\n    }\n  };\n  let sign = null;\n  let confidence = 0;\n\n  // DO - Closed fist\n  if (fingers.allClosed) {\n    sign = 'do';\n    confidence = 0.9;\n  }\n  // RE - Flat hand angled up\n  else if (fingers.allExtended && handDir.verticalAngle > 20 && handDir.verticalAngle < 70) {\n    sign = 're';\n    confidence = 0.9;\n  }\n  // MI - Flat hand horizontal, palm down\n  else if (fingers.allExtended && handDir.isHorizontal && palmDir.isDown) {\n    sign = 'mi';\n    confidence = 0.9;\n  }\n  // FA - Thumb extended, others relaxed\n  else if (fingers.values.thumb > 0.7 && fingers.values.index < 0.7 && fingers.values.middle < 0.7 && fingers.values.ring < 0.7 && fingers.values.pinky < 0.7) {\n    sign = 'fa';\n    confidence = 0.9;\n  }\n  // SOL - Flat hand forward\n  else if (fingers.allExtended && handDir.isPointingForward && palmDir.isSide) {\n    sign = 'sol';\n    confidence = 0.9;\n  }\n  // LA - Relaxed hand\n  else if (fingers.partiallyClosed && palmDir.isDown) {\n    sign = 'la';\n    confidence = 0.8;\n  }\n  // TI - Index up\n  else if (fingers.values.index > 0.7 && fingers.values.middle < 0.5 && fingers.values.ring < 0.5 && fingers.values.pinky < 0.5 && handDir.isPointingUp) {\n    sign = 'ti';\n    confidence = 0.9;\n  }\n  return {\n    sign,\n    confidence,\n    debug\n  };\n}\n\n// Export for debugging\nexport function analyzeHand(landmarks) {\n  if (!landmarks || landmarks.length < 21) return null;\n  return {\n    fingers: analyzeFingers(landmarks).values,\n    handDirection: getHandDirection(landmarks),\n    palmDirection: getPalmDirection(landmarks)\n  };\n}","map":{"version":3,"names":["FINGERS","THUMB","INDEX","MIDDLE","RING","PINKY","THRESHOLDS","EXTENSION","CURL","PARTIAL","distance","p1","p2","Math","sqrt","pow","x","y","z","normalize","vector","magnitude","getFingerExtension","landmarks","fingerIndices","base","tip","mid1","mid2","directLength","segmentLength","getHandDirection","wrist","middle_tip","dir","normalized","verticalAngle","atan2","PI","direction","isPointingUp","isPointingDown","isPointingForward","abs","max","isHorizontal","getPalmDirection","index_base","pinky_base","v1","v2","normal","isDown","isUp","isSide","analyzeFingers","extensions","thumb","index","middle","ring","pinky","values","allExtended","Object","every","v","allClosed","partiallyClosed","recognizeKodalySign","length","fingers","handDir","palmDir","debug","handDirection","palmOrientation","sign","confidence","analyzeHand","palmDirection"],"sources":["C:/Users/user/sol-fa-app/src/utils/kodalySignsDB.js"],"sourcesContent":["// Constants\r\nconst FINGERS = {\r\n    THUMB: [1, 2, 3, 4],\r\n    INDEX: [5, 6, 7, 8],\r\n    MIDDLE: [9, 10, 11, 12],\r\n    RING: [13, 14, 15, 16],\r\n    PINKY: [17, 18, 19, 20]\r\n};\r\n\r\nconst THRESHOLDS = {\r\n    EXTENSION: 0.6,    // Threshold for considering a finger extended\r\n    CURL: 0.4,         // Threshold for considering a finger curled\r\n    PARTIAL: 0.5       // Threshold for partial extension\r\n};\r\n\r\n// Helper Functions\r\nconst distance = (p1, p2) => {\r\n    return Math.sqrt(\r\n        Math.pow(p1.x - p2.x, 2) +\r\n        Math.pow(p1.y - p2.y, 2) +\r\n        Math.pow(p1.z - p2.z, 2)\r\n    );\r\n};\r\n\r\nconst normalize = (vector) => {\r\n    const magnitude = Math.sqrt(\r\n        vector.x * vector.x +\r\n        vector.y * vector.y +\r\n        vector.z * vector.z\r\n    );\r\n    return {\r\n        x: vector.x / magnitude,\r\n        y: vector.y / magnitude,\r\n        z: vector.z / magnitude\r\n    };\r\n};\r\n\r\n// Get finger extension values\r\nconst getFingerExtension = (landmarks, fingerIndices) => {\r\n    const base = landmarks[fingerIndices[0]];\r\n    const tip = landmarks[fingerIndices[3]];\r\n    const mid1 = landmarks[fingerIndices[1]];\r\n    const mid2 = landmarks[fingerIndices[2]];\r\n\r\n    // Get direct distance from base to tip\r\n    const directLength = distance(base, tip);\r\n    \r\n    // Get sum of segment lengths\r\n    const segmentLength = \r\n        distance(base, mid1) +\r\n        distance(mid1, mid2) +\r\n        distance(mid2, tip);\r\n    \r\n    // Return ratio (0 = fully bent, 1 = straight)\r\n    return directLength / segmentLength;\r\n};\r\n\r\n// Get hand direction\r\nconst getHandDirection = (landmarks) => {\r\n    const wrist = landmarks[0];\r\n    const middle_tip = landmarks[12];\r\n    \r\n    // Get direction vector\r\n    const dir = {\r\n        x: middle_tip.x - wrist.x,\r\n        y: middle_tip.y - wrist.y,\r\n        z: middle_tip.z - wrist.z\r\n    };\r\n    \r\n    const normalized = normalize(dir);\r\n    \r\n    // Calculate angles\r\n    const verticalAngle = Math.atan2(-normalized.y, \r\n        Math.sqrt(normalized.x * normalized.x + normalized.z * normalized.z)) * (180 / Math.PI);\r\n    \r\n    return {\r\n        direction: normalized,\r\n        verticalAngle,\r\n        isPointingUp: verticalAngle > 45,\r\n        isPointingDown: verticalAngle < -45,\r\n        isPointingForward: Math.abs(normalized.z) > Math.max(Math.abs(normalized.x), Math.abs(normalized.y)),\r\n        isHorizontal: Math.abs(verticalAngle) < 30\r\n    };\r\n};\r\n\r\n// Get palm direction\r\nconst getPalmDirection = (landmarks) => {\r\n    const wrist = landmarks[0];\r\n    const index_base = landmarks[5];\r\n    const pinky_base = landmarks[17];\r\n    \r\n    // Get vectors along palm\r\n    const v1 = {\r\n        x: index_base.x - wrist.x,\r\n        y: index_base.y - wrist.y,\r\n        z: index_base.z - wrist.z\r\n    };\r\n    \r\n    const v2 = {\r\n        x: pinky_base.x - wrist.x,\r\n        y: pinky_base.y - wrist.y,\r\n        z: pinky_base.z - wrist.z\r\n    };\r\n    \r\n    // Cross product for palm normal\r\n    const normal = {\r\n        x: v1.y * v2.z - v1.z * v2.y,\r\n        y: v1.z * v2.x - v1.x * v2.z,\r\n        z: v1.x * v2.y - v1.y * v2.x\r\n    };\r\n    \r\n    const normalized = normalize(normal);\r\n    \r\n    return {\r\n        normal: normalized,\r\n        isDown: normalized.y > 0.5,\r\n        isUp: normalized.y < -0.5,\r\n        isSide: Math.abs(normalized.x) > 0.5\r\n    };\r\n};\r\n\r\n// Analyze finger positions\r\nconst analyzeFingers = (landmarks) => {\r\n    const extensions = {\r\n        thumb: getFingerExtension(landmarks, FINGERS.THUMB),\r\n        index: getFingerExtension(landmarks, FINGERS.INDEX),\r\n        middle: getFingerExtension(landmarks, FINGERS.MIDDLE),\r\n        ring: getFingerExtension(landmarks, FINGERS.RING),\r\n        pinky: getFingerExtension(landmarks, FINGERS.PINKY)\r\n    };\r\n\r\n    return {\r\n        values: extensions,\r\n        allExtended: Object.values(extensions).every(v => v > THRESHOLDS.EXTENSION),\r\n        allClosed: Object.values(extensions).every(v => v < THRESHOLDS.CURL),\r\n        partiallyClosed: Object.values(extensions).every(v => v > THRESHOLDS.CURL && v < THRESHOLDS.EXTENSION)\r\n    };\r\n};\r\n\r\n// Main recognition function\r\nexport function recognizeKodalySign(landmarks) {\r\n    if (!landmarks || landmarks.length < 21) return null;\r\n\r\n    const fingers = analyzeFingers(landmarks);\r\n    const handDir = getHandDirection(landmarks);\r\n    const palmDir = getPalmDirection(landmarks);\r\n\r\n    // Debug info\r\n    const debug = {\r\n        extensions: fingers.values,\r\n        handDirection: {\r\n            verticalAngle: handDir.verticalAngle,\r\n            isPointingUp: handDir.isPointingUp,\r\n            isPointingDown: handDir.isPointingDown,\r\n            isPointingForward: handDir.isPointingForward,\r\n            isHorizontal: handDir.isHorizontal\r\n        },\r\n        palmOrientation: {\r\n            isDown: palmDir.isDown,\r\n            isUp: palmDir.isUp,\r\n            isSide: palmDir.isSide\r\n        }\r\n    };\r\n\r\n    let sign = null;\r\n    let confidence = 0;\r\n\r\n    // DO - Closed fist\r\n    if (fingers.allClosed) {\r\n        sign = 'do';\r\n        confidence = 0.9;\r\n    }\r\n    // RE - Flat hand angled up\r\n    else if (fingers.allExtended && \r\n             handDir.verticalAngle > 20 && \r\n             handDir.verticalAngle < 70) {\r\n        sign = 're';\r\n        confidence = 0.9;\r\n    }\r\n    // MI - Flat hand horizontal, palm down\r\n    else if (fingers.allExtended && \r\n             handDir.isHorizontal && \r\n             palmDir.isDown) {\r\n        sign = 'mi';\r\n        confidence = 0.9;\r\n    }\r\n    // FA - Thumb extended, others relaxed\r\n    else if (fingers.values.thumb > 0.7 && \r\n             fingers.values.index < 0.7 && \r\n             fingers.values.middle < 0.7 && \r\n             fingers.values.ring < 0.7 && \r\n             fingers.values.pinky < 0.7) {\r\n        sign = 'fa';\r\n        confidence = 0.9;\r\n    }\r\n    // SOL - Flat hand forward\r\n    else if (fingers.allExtended && \r\n             handDir.isPointingForward && \r\n             palmDir.isSide) {\r\n        sign = 'sol';\r\n        confidence = 0.9;\r\n    }\r\n    // LA - Relaxed hand\r\n    else if (fingers.partiallyClosed && \r\n             palmDir.isDown) {\r\n        sign = 'la';\r\n        confidence = 0.8;\r\n    }\r\n    // TI - Index up\r\n    else if (fingers.values.index > 0.7 && \r\n             fingers.values.middle < 0.5 && \r\n             fingers.values.ring < 0.5 && \r\n             fingers.values.pinky < 0.5 && \r\n             handDir.isPointingUp) {\r\n        sign = 'ti';\r\n        confidence = 0.9;\r\n    }\r\n\r\n    return {\r\n        sign,\r\n        confidence,\r\n        debug\r\n    };\r\n}\r\n\r\n// Export for debugging\r\nexport function analyzeHand(landmarks) {\r\n    if (!landmarks || landmarks.length < 21) return null;\r\n    \r\n    return {\r\n        fingers: analyzeFingers(landmarks).values,\r\n        handDirection: getHandDirection(landmarks),\r\n        palmDirection: getPalmDirection(landmarks)\r\n    };\r\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}