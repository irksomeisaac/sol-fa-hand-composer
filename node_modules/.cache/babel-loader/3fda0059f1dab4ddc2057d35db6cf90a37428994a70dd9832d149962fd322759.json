{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\sol-fa-app\\\\src\\\\components\\\\VoiceControlledComposer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport * as hands from '@mediapipe/hands';\nimport * as camera from '@mediapipe/camera_utils';\nimport { drawConnectors, drawLandmarks } from '@mediapipe/drawing_utils';\nimport { recognizeKodalySign } from '../utils/kodalySignsDB';\nimport { audioPlayer } from '../utils/audioUtils';\nimport { CompositionManager } from '../utils/compositionManager';\nimport { VoiceCommandManager } from '../utils/voiceCommands';\nimport KodalyReference from './KodalyReference';\nimport './VoiceControlledComposer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONFIDENCE_THRESHOLD = 0.85;\nconst HOLD_FRAMES = 10;\nfunction VoiceControlledComposer() {\n  _s();\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const handsRef = useRef(null);\n  const cameraRef = useRef(null);\n  const compositionManagerRef = useRef(new CompositionManager());\n  const voiceManagerRef = useRef(null);\n  const [detectionState, setDetectionState] = useState({\n    sign: null,\n    confidence: 0,\n    debug: null,\n    handPresent: false\n  });\n  const [compositionState, setCompositionState] = useState({\n    isRecording: false,\n    isPlaying: false,\n    currentOctave: 4,\n    noteCount: 0\n  });\n  const [voiceState, setVoiceState] = useState({\n    isListening: false,\n    isSupported: false,\n    lastCommand: null\n  });\n  const [showReference, setShowReference] = useState(false);\n  const lastNoteRef = useRef(null);\n  const frameCountRef = useRef(0);\n\n  // Voice command handler\n  const handleVoiceCommand = useCallback((command, transcript) => {\n    const manager = compositionManagerRef.current;\n    switch (command) {\n      case 'OCTAVE_UP':\n        manager.octaveUp();\n        audioPlayer.playUIFeedback(1000);\n        break;\n      case 'OCTAVE_DOWN':\n        manager.octaveDown();\n        audioPlayer.playUIFeedback(600);\n        break;\n      case 'START_RECORDING':\n        if (!manager.isRecording) {\n          manager.startRecording();\n          audioPlayer.playUIFeedback(1200);\n        }\n        break;\n      case 'STOP_RECORDING':\n        if (manager.isRecording) {\n          manager.stopRecording();\n          audioPlayer.playUIFeedback(800);\n        }\n        break;\n      case 'PLAY':\n        manager.togglePlayback(audioPlayer);\n        audioPlayer.playUIFeedback(1400);\n        break;\n      case 'PAUSE':\n        if (manager.isPlaying) {\n          manager.stopPlayback();\n          audioPlayer.playUIFeedback(700);\n        }\n        break;\n      case 'CLEAR':\n        manager.clearComposition();\n        audioPlayer.playUIFeedback(400);\n        break;\n      case 'TEMPO_UP':\n        // TODO: Implement tempo controls\n        audioPlayer.playUIFeedback(1100);\n        break;\n      case 'TEMPO_DOWN':\n        // TODO: Implement tempo controls\n        audioPlayer.playUIFeedback(500);\n        break;\n    }\n\n    // Update states\n    setCompositionState(manager.getStatus());\n    setVoiceState(prev => ({\n      ...prev,\n      lastCommand: command\n    }));\n  }, []);\n  const handleSignDetection = useCallback(recognition => {\n    const currentSign = recognition === null || recognition === void 0 ? void 0 : recognition.sign;\n    const confidence = (recognition === null || recognition === void 0 ? void 0 : recognition.confidence) || 0;\n    if (currentSign && confidence >= CONFIDENCE_THRESHOLD) {\n      if (currentSign === lastNoteRef.current) {\n        frameCountRef.current++;\n        if (frameCountRef.current >= HOLD_FRAMES) {\n          // Play note in current octave\n          audioPlayer.playNote(currentSign, compositionManagerRef.current.currentOctave);\n\n          // Add to composition if recording\n          if (compositionManagerRef.current.isRecording) {\n            compositionManagerRef.current.addNote(currentSign);\n            setCompositionState(compositionManagerRef.current.getStatus());\n          }\n        }\n      } else {\n        frameCountRef.current = 0;\n        lastNoteRef.current = currentSign;\n        audioPlayer.stopNote();\n      }\n    } else {\n      frameCountRef.current = 0;\n      lastNoteRef.current = null;\n      audioPlayer.stopNote();\n    }\n  }, []);\n  const onResults = useCallback(results => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.scale(-1, 1);\n    ctx.translate(-canvas.width, 0);\n    if (results.image) {\n      ctx.drawImage(results.image, 0, 0, canvas.width, canvas.height);\n    }\n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n      for (const landmarks of results.multiHandLandmarks) {\n        drawConnectors(ctx, landmarks, hands.HAND_CONNECTIONS, {\n          color: '#00FF00',\n          lineWidth: 5\n        });\n        drawLandmarks(ctx, landmarks, {\n          color: '#FF0000',\n          lineWidth: 2\n        });\n        const mirroredLandmarks = landmarks.map(landmark => ({\n          ...landmark,\n          x: 1 - landmark.x\n        }));\n        const recognition = recognizeKodalySign(mirroredLandmarks);\n        handleSignDetection(recognition);\n        setDetectionState({\n          ...recognition,\n          handPresent: true\n        });\n      }\n    } else {\n      handleSignDetection(null);\n      setDetectionState({\n        sign: null,\n        confidence: 0,\n        debug: null,\n        handPresent: false\n      });\n    }\n    ctx.restore();\n  }, [handleSignDetection]);\n  useEffect(() => {\n    if (!webcamRef.current) return;\n    handsRef.current = new hands.Hands({\n      locateFile: file => {\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n      }\n    });\n\n    // Single hand tracking for better performance\n    handsRef.current.setOptions({\n      maxNumHands: 1,\n      modelComplexity: 1,\n      minDetectionConfidence: 0.7,\n      minTrackingConfidence: 0.7\n    });\n    handsRef.current.onResults(onResults);\n    if (webcamRef.current) {\n      cameraRef.current = new camera.Camera(webcamRef.current.video, {\n        onFrame: async () => {\n          if (webcamRef.current && handsRef.current) {\n            await handsRef.current.send({\n              image: webcamRef.current.video\n            });\n          }\n        },\n        width: 640,\n        height: 480\n      });\n      cameraRef.current.start();\n    }\n\n    // Initialize voice commands\n    voiceManagerRef.current = new VoiceCommandManager(handleVoiceCommand);\n    const voiceStatus = voiceManagerRef.current.getStatus();\n    setVoiceState(prev => ({\n      ...prev,\n      isSupported: voiceStatus.isSupported\n    }));\n    return () => {\n      if (cameraRef.current) {\n        cameraRef.current.stop();\n      }\n      if (handsRef.current) {\n        handsRef.current.close();\n      }\n      if (voiceManagerRef.current) {\n        voiceManagerRef.current.stopListening();\n      }\n      audioPlayer.stopNote();\n      compositionManagerRef.current.stopPlayback();\n    };\n  }, [onResults, handleVoiceCommand]);\n  const toggleVoiceRecognition = () => {\n    if (voiceManagerRef.current) {\n      const isListening = voiceManagerRef.current.toggle();\n      setVoiceState(prev => ({\n        ...prev,\n        isListening\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voice-controlled-composer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"camera-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"camera-canvas-container\",\n          children: [/*#__PURE__*/_jsxDEV(Webcam, {\n            ref: webcamRef,\n            style: {\n              display: 'none'\n            },\n            width: 640,\n            height: 480,\n            mirrored: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            width: 640,\n            height: 480\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this), detectionState.sign && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sign-indicator ${frameCountRef.current >= HOLD_FRAMES ? 'playing' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [detectionState.sign.toUpperCase(), compositionState.currentOctave]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this), compositionState.isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recording-indicator\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u25CF REC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"voice-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Voice Control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleVoiceRecognition,\n            className: `voice-button ${voiceState.isListening ? 'listening' : ''}`,\n            disabled: !voiceState.isSupported,\n            children: voiceState.isListening ? '🎤 Listening...' : '🎤 Start Voice Control'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), !voiceState.isSupported && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"voice-warning\",\n            children: \"Voice recognition not supported in this browser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 29\n          }, this), voiceState.lastCommand && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"last-command\",\n            children: [\"Last command: \", voiceState.lastCommand.replace('_', ' ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"composition-status\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Composition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Octave:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value\",\n                children: compositionState.currentOctave\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Recording:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `value ${compositionState.isRecording ? 'active' : ''}`,\n                children: compositionState.isRecording ? 'ON' : 'OFF'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Playing:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `value ${compositionState.isPlaying ? 'active' : ''}`,\n                children: compositionState.isPlaying ? 'ON' : 'OFF'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Notes:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value\",\n                children: compositionState.noteCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reference-toggle\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowReference(!showReference),\n            children: [showReference ? 'Hide' : 'Show', \" Reference Guide\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }, this), showReference && /*#__PURE__*/_jsxDEV(KodalyReference, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 9\n  }, this);\n}\n_s(VoiceControlledComposer, \"vBWvhHo8VnUQcjHWm7TfXoHyfHU=\");\n_c = VoiceControlledComposer;\nexport default VoiceControlledComposer;\nvar _c;\n$RefreshReg$(_c, \"VoiceControlledComposer\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Webcam","hands","camera","drawConnectors","drawLandmarks","recognizeKodalySign","audioPlayer","CompositionManager","VoiceCommandManager","KodalyReference","jsxDEV","_jsxDEV","CONFIDENCE_THRESHOLD","HOLD_FRAMES","VoiceControlledComposer","_s","webcamRef","canvasRef","handsRef","cameraRef","compositionManagerRef","voiceManagerRef","detectionState","setDetectionState","sign","confidence","debug","handPresent","compositionState","setCompositionState","isRecording","isPlaying","currentOctave","noteCount","voiceState","setVoiceState","isListening","isSupported","lastCommand","showReference","setShowReference","lastNoteRef","frameCountRef","handleVoiceCommand","command","transcript","manager","current","octaveUp","playUIFeedback","octaveDown","startRecording","stopRecording","togglePlayback","stopPlayback","clearComposition","getStatus","prev","handleSignDetection","recognition","currentSign","playNote","addNote","stopNote","onResults","results","canvas","ctx","getContext","clearRect","width","height","save","scale","translate","image","drawImage","multiHandLandmarks","length","landmarks","HAND_CONNECTIONS","color","lineWidth","mirroredLandmarks","map","landmark","x","restore","Hands","locateFile","file","setOptions","maxNumHands","modelComplexity","minDetectionConfidence","minTrackingConfidence","Camera","video","onFrame","send","start","voiceStatus","stop","close","stopListening","toggleVoiceRecognition","toggle","className","children","ref","style","display","mirrored","fileName","_jsxFileName","lineNumber","columnNumber","toUpperCase","onClick","disabled","replace","_c","$RefreshReg$"],"sources":["C:/Users/user/sol-fa-app/src/components/VoiceControlledComposer.js"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport * as hands from '@mediapipe/hands';\r\nimport * as camera from '@mediapipe/camera_utils';\r\nimport { drawConnectors, drawLandmarks } from '@mediapipe/drawing_utils';\r\nimport { recognizeKodalySign } from '../utils/kodalySignsDB';\r\nimport { audioPlayer } from '../utils/audioUtils';\r\nimport { CompositionManager } from '../utils/compositionManager';\r\nimport { VoiceCommandManager } from '../utils/voiceCommands';\r\nimport KodalyReference from './KodalyReference';\r\nimport './VoiceControlledComposer.css';\r\n\r\nconst CONFIDENCE_THRESHOLD = 0.85;\r\nconst HOLD_FRAMES = 10;\r\n\r\nfunction VoiceControlledComposer() {\r\n    const webcamRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const handsRef = useRef(null);\r\n    const cameraRef = useRef(null);\r\n    const compositionManagerRef = useRef(new CompositionManager());\r\n    const voiceManagerRef = useRef(null);\r\n    \r\n    const [detectionState, setDetectionState] = useState({\r\n        sign: null,\r\n        confidence: 0,\r\n        debug: null,\r\n        handPresent: false\r\n    });\r\n    \r\n    const [compositionState, setCompositionState] = useState({\r\n        isRecording: false,\r\n        isPlaying: false,\r\n        currentOctave: 4,\r\n        noteCount: 0\r\n    });\r\n\r\n    const [voiceState, setVoiceState] = useState({\r\n        isListening: false,\r\n        isSupported: false,\r\n        lastCommand: null\r\n    });\r\n\r\n    const [showReference, setShowReference] = useState(false);\r\n\r\n    const lastNoteRef = useRef(null);\r\n    const frameCountRef = useRef(0);\r\n\r\n    // Voice command handler\r\n    const handleVoiceCommand = useCallback((command, transcript) => {\r\n        const manager = compositionManagerRef.current;\r\n        \r\n        switch (command) {\r\n            case 'OCTAVE_UP':\r\n                manager.octaveUp();\r\n                audioPlayer.playUIFeedback(1000);\r\n                break;\r\n            case 'OCTAVE_DOWN':\r\n                manager.octaveDown();\r\n                audioPlayer.playUIFeedback(600);\r\n                break;\r\n            case 'START_RECORDING':\r\n                if (!manager.isRecording) {\r\n                    manager.startRecording();\r\n                    audioPlayer.playUIFeedback(1200);\r\n                }\r\n                break;\r\n            case 'STOP_RECORDING':\r\n                if (manager.isRecording) {\r\n                    manager.stopRecording();\r\n                    audioPlayer.playUIFeedback(800);\r\n                }\r\n                break;\r\n            case 'PLAY':\r\n                manager.togglePlayback(audioPlayer);\r\n                audioPlayer.playUIFeedback(1400);\r\n                break;\r\n            case 'PAUSE':\r\n                if (manager.isPlaying) {\r\n                    manager.stopPlayback();\r\n                    audioPlayer.playUIFeedback(700);\r\n                }\r\n                break;\r\n            case 'CLEAR':\r\n                manager.clearComposition();\r\n                audioPlayer.playUIFeedback(400);\r\n                break;\r\n            case 'TEMPO_UP':\r\n                // TODO: Implement tempo controls\r\n                audioPlayer.playUIFeedback(1100);\r\n                break;\r\n            case 'TEMPO_DOWN':\r\n                // TODO: Implement tempo controls\r\n                audioPlayer.playUIFeedback(500);\r\n                break;\r\n        }\r\n        \r\n        // Update states\r\n        setCompositionState(manager.getStatus());\r\n        setVoiceState(prev => ({ ...prev, lastCommand: command }));\r\n    }, []);\r\n\r\n    const handleSignDetection = useCallback((recognition) => {\r\n        const currentSign = recognition?.sign;\r\n        const confidence = recognition?.confidence || 0;\r\n\r\n        if (currentSign && confidence >= CONFIDENCE_THRESHOLD) {\r\n            if (currentSign === lastNoteRef.current) {\r\n                frameCountRef.current++;\r\n                if (frameCountRef.current >= HOLD_FRAMES) {\r\n                    // Play note in current octave\r\n                    audioPlayer.playNote(currentSign, compositionManagerRef.current.currentOctave);\r\n                    \r\n                    // Add to composition if recording\r\n                    if (compositionManagerRef.current.isRecording) {\r\n                        compositionManagerRef.current.addNote(currentSign);\r\n                        setCompositionState(compositionManagerRef.current.getStatus());\r\n                    }\r\n                }\r\n            } else {\r\n                frameCountRef.current = 0;\r\n                lastNoteRef.current = currentSign;\r\n                audioPlayer.stopNote();\r\n            }\r\n        } else {\r\n            frameCountRef.current = 0;\r\n            lastNoteRef.current = null;\r\n            audioPlayer.stopNote();\r\n        }\r\n    }, []);\r\n\r\n    const onResults = useCallback((results) => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        \r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.save();\r\n        ctx.scale(-1, 1);\r\n        ctx.translate(-canvas.width, 0);\r\n\r\n        if (results.image) {\r\n            ctx.drawImage(results.image, 0, 0, canvas.width, canvas.height);\r\n        }\r\n\r\n        if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\r\n            for (const landmarks of results.multiHandLandmarks) {\r\n                drawConnectors(ctx, landmarks, hands.HAND_CONNECTIONS, {\r\n                    color: '#00FF00',\r\n                    lineWidth: 5\r\n                });\r\n                drawLandmarks(ctx, landmarks, {\r\n                    color: '#FF0000',\r\n                    lineWidth: 2\r\n                });\r\n\r\n                const mirroredLandmarks = landmarks.map(landmark => ({\r\n                    ...landmark,\r\n                    x: 1 - landmark.x\r\n                }));\r\n\r\n                const recognition = recognizeKodalySign(mirroredLandmarks);\r\n                handleSignDetection(recognition);\r\n                setDetectionState({\r\n                    ...recognition,\r\n                    handPresent: true\r\n                });\r\n            }\r\n        } else {\r\n            handleSignDetection(null);\r\n            setDetectionState({\r\n                sign: null,\r\n                confidence: 0,\r\n                debug: null,\r\n                handPresent: false\r\n            });\r\n        }\r\n\r\n        ctx.restore();\r\n    }, [handleSignDetection]);\r\n\r\n    useEffect(() => {\r\n        if (!webcamRef.current) return;\r\n\r\n        handsRef.current = new hands.Hands({\r\n            locateFile: (file) => {\r\n                return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\r\n            }\r\n        });\r\n\r\n        // Single hand tracking for better performance\r\n        handsRef.current.setOptions({\r\n            maxNumHands: 1,\r\n            modelComplexity: 1,\r\n            minDetectionConfidence: 0.7,\r\n            minTrackingConfidence: 0.7\r\n        });\r\n\r\n        handsRef.current.onResults(onResults);\r\n\r\n        if (webcamRef.current) {\r\n            cameraRef.current = new camera.Camera(webcamRef.current.video, {\r\n                onFrame: async () => {\r\n                    if (webcamRef.current && handsRef.current) {\r\n                        await handsRef.current.send({\r\n                            image: webcamRef.current.video\r\n                        });\r\n                    }\r\n                },\r\n                width: 640,\r\n                height: 480\r\n            });\r\n            cameraRef.current.start();\r\n        }\r\n\r\n        // Initialize voice commands\r\n        voiceManagerRef.current = new VoiceCommandManager(handleVoiceCommand);\r\n        const voiceStatus = voiceManagerRef.current.getStatus();\r\n        setVoiceState(prev => ({ ...prev, isSupported: voiceStatus.isSupported }));\r\n\r\n        return () => {\r\n            if (cameraRef.current) {\r\n                cameraRef.current.stop();\r\n            }\r\n            if (handsRef.current) {\r\n                handsRef.current.close();\r\n            }\r\n            if (voiceManagerRef.current) {\r\n                voiceManagerRef.current.stopListening();\r\n            }\r\n            audioPlayer.stopNote();\r\n            compositionManagerRef.current.stopPlayback();\r\n        };\r\n    }, [onResults, handleVoiceCommand]);\r\n\r\n    const toggleVoiceRecognition = () => {\r\n        if (voiceManagerRef.current) {\r\n            const isListening = voiceManagerRef.current.toggle();\r\n            setVoiceState(prev => ({ ...prev, isListening }));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"voice-controlled-composer\">\r\n            <div className=\"main-container\">\r\n                <div className=\"camera-container\">\r\n                    <div className=\"camera-canvas-container\">\r\n                        <Webcam\r\n                            ref={webcamRef}\r\n                            style={{ display: 'none' }}\r\n                            width={640}\r\n                            height={480}\r\n                            mirrored={false}\r\n                        />\r\n                        <canvas\r\n                            ref={canvasRef}\r\n                            width={640}\r\n                            height={480}\r\n                        />\r\n                        \r\n                        {/* Note indicator */}\r\n                        {detectionState.sign && (\r\n                            <div className={`sign-indicator ${frameCountRef.current >= HOLD_FRAMES ? 'playing' : ''}`}>\r\n                                <h2>{detectionState.sign.toUpperCase()}{compositionState.currentOctave}</h2>\r\n                            </div>\r\n                        )}\r\n                        \r\n                        {/* Recording indicator */}\r\n                        {compositionState.isRecording && (\r\n                            <div className=\"recording-indicator\">\r\n                                <span>● REC</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"control-panel\">\r\n                    <div className=\"voice-controls\">\r\n                        <h3>Voice Control</h3>\r\n                        <button \r\n                            onClick={toggleVoiceRecognition}\r\n                            className={`voice-button ${voiceState.isListening ? 'listening' : ''}`}\r\n                            disabled={!voiceState.isSupported}\r\n                        >\r\n                            {voiceState.isListening ? '🎤 Listening...' : '🎤 Start Voice Control'}\r\n                        </button>\r\n                        {!voiceState.isSupported && (\r\n                            <p className=\"voice-warning\">Voice recognition not supported in this browser</p>\r\n                        )}\r\n                        {voiceState.lastCommand && (\r\n                            <div className=\"last-command\">\r\n                                Last command: {voiceState.lastCommand.replace('_', ' ')}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"composition-status\">\r\n                        <h3>Composition</h3>\r\n                        <div className=\"status-grid\">\r\n                            <div className=\"status-item\">\r\n                                <span>Octave:</span>\r\n                                <span className=\"value\">{compositionState.currentOctave}</span>\r\n                            </div>\r\n                            <div className=\"status-item\">\r\n                                <span>Recording:</span>\r\n                                <span className={`value ${compositionState.isRecording ? 'active' : ''}`}>\r\n                                    {compositionState.isRecording ? 'ON' : 'OFF'}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"status-item\">\r\n                                <span>Playing:</span>\r\n                                <span className={`value ${compositionState.isPlaying ? 'active' : ''}`}>\r\n                                    {compositionState.isPlaying ? 'ON' : 'OFF'}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"status-item\">\r\n                                <span>Notes:</span>\r\n                                <span className=\"value\">{compositionState.noteCount}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"reference-toggle\">\r\n                        <button onClick={() => setShowReference(!showReference)}>\r\n                            {showReference ? 'Hide' : 'Show'} Reference Guide\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {showReference && <KodalyReference />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VoiceControlledComposer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}