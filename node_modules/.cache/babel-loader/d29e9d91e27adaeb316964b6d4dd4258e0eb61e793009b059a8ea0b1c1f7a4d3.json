{"ast":null,"code":"// Voice command recognition system\nexport class VoiceCommandManager {\n  constructor(onCommandCallback) {\n    this.recognition = null;\n    this.isListening = false;\n    this.onCommand = onCommandCallback;\n    this.commands = {\n      // Octave controls\n      'octave up': 'OCTAVE_UP',\n      'higher': 'OCTAVE_UP',\n      'up': 'OCTAVE_UP',\n      'octave down': 'OCTAVE_DOWN',\n      'lower': 'OCTAVE_DOWN',\n      'down': 'OCTAVE_DOWN',\n      // Recording controls\n      'start recording': 'START_RECORDING',\n      'record': 'START_RECORDING',\n      'begin': 'START_RECORDING',\n      'stop recording': 'STOP_RECORDING',\n      'stop': 'STOP_RECORDING',\n      'end': 'STOP_RECORDING',\n      // Playback controls\n      'play': 'PLAY',\n      'play back': 'PLAY',\n      'playback': 'PLAY',\n      'pause': 'PAUSE',\n      // Composition controls\n      'clear': 'CLEAR',\n      'reset': 'CLEAR',\n      'delete': 'CLEAR',\n      'new': 'CLEAR',\n      // Tempo controls\n      'faster': 'TEMPO_UP',\n      'speed up': 'TEMPO_UP',\n      'slower': 'TEMPO_DOWN',\n      'slow down': 'TEMPO_DOWN',\n      // Volume controls\n      'louder': 'VOLUME_UP',\n      'volume up': 'VOLUME_UP',\n      'quieter': 'VOLUME_DOWN',\n      'volume down': 'VOLUME_DOWN'\n    };\n  }\n  initialize() {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      console.warn('Speech recognition not supported in this browser');\n      return false;\n    }\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    this.recognition = new SpeechRecognition();\n    this.recognition.continuous = true;\n    this.recognition.interimResults = false;\n    this.recognition.lang = 'en-US';\n    this.recognition.maxAlternatives = 3;\n    this.recognition.onresult = event => {\n      const lastResult = event.results[event.results.length - 1];\n      if (lastResult.isFinal) {\n        const transcript = lastResult[0].transcript.toLowerCase().trim();\n        this.processCommand(transcript);\n      }\n    };\n    this.recognition.onerror = event => {\n      console.error('Speech recognition error:', event.error);\n      if (event.error === 'no-speech') {\n        // Restart listening after no speech\n        setTimeout(() => {\n          if (this.isListening) {\n            this.startListening();\n          }\n        }, 1000);\n      }\n    };\n    this.recognition.onend = () => {\n      // Automatically restart if we should be listening\n      if (this.isListening) {\n        setTimeout(() => {\n          this.startListening();\n        }, 100);\n      }\n    };\n    return true;\n  }\n  processCommand(transcript) {\n    console.log('Voice input:', transcript);\n\n    // Find matching command\n    for (const [phrase, command] of Object.entries(this.commands)) {\n      if (transcript.includes(phrase)) {\n        console.log('Recognized command:', command);\n        this.onCommand(command, transcript);\n        return;\n      }\n    }\n    console.log('No command recognized for:', transcript);\n  }\n  startListening() {\n    if (!this.recognition) {\n      if (!this.initialize()) {\n        return false;\n      }\n    }\n    try {\n      this.recognition.start();\n      this.isListening = true;\n      console.log('Voice recognition started');\n      return true;\n    } catch (error) {\n      console.error('Error starting voice recognition:', error);\n      return false;\n    }\n  }\n  stopListening() {\n    if (this.recognition && this.isListening) {\n      this.recognition.stop();\n      this.isListening = false;\n      console.log('Voice recognition stopped');\n    }\n  }\n  toggle() {\n    if (this.isListening) {\n      this.stopListening();\n    } else {\n      this.startListening();\n    }\n    return this.isListening;\n  }\n  getStatus() {\n    return {\n      isListening: this.isListening,\n      isSupported: 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window\n    };\n  }\n}","map":{"version":3,"names":["VoiceCommandManager","constructor","onCommandCallback","recognition","isListening","onCommand","commands","initialize","window","console","warn","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","maxAlternatives","onresult","event","lastResult","results","length","isFinal","transcript","toLowerCase","trim","processCommand","onerror","error","setTimeout","startListening","onend","log","phrase","command","Object","entries","includes","start","stopListening","stop","toggle","getStatus","isSupported"],"sources":["C:/Users/user/sol-fa-app/src/utils/voiceCommands.js"],"sourcesContent":["// Voice command recognition system\r\nexport class VoiceCommandManager {\r\n    constructor(onCommandCallback) {\r\n        this.recognition = null;\r\n        this.isListening = false;\r\n        this.onCommand = onCommandCallback;\r\n        this.commands = {\r\n            // Octave controls\r\n            'octave up': 'OCTAVE_UP',\r\n            'higher': 'OCTAVE_UP',\r\n            'up': 'OCTAVE_UP',\r\n            'octave down': 'OCTAVE_DOWN',\r\n            'lower': 'OCTAVE_DOWN',\r\n            'down': 'OCTAVE_DOWN',\r\n            \r\n            // Recording controls\r\n            'start recording': 'START_RECORDING',\r\n            'record': 'START_RECORDING',\r\n            'begin': 'START_RECORDING',\r\n            'stop recording': 'STOP_RECORDING',\r\n            'stop': 'STOP_RECORDING',\r\n            'end': 'STOP_RECORDING',\r\n            \r\n            // Playback controls\r\n            'play': 'PLAY',\r\n            'play back': 'PLAY',\r\n            'playback': 'PLAY',\r\n            'pause': 'PAUSE',\r\n            \r\n            // Composition controls\r\n            'clear': 'CLEAR',\r\n            'reset': 'CLEAR',\r\n            'delete': 'CLEAR',\r\n            'new': 'CLEAR',\r\n            \r\n            // Tempo controls\r\n            'faster': 'TEMPO_UP',\r\n            'speed up': 'TEMPO_UP',\r\n            'slower': 'TEMPO_DOWN',\r\n            'slow down': 'TEMPO_DOWN',\r\n            \r\n            // Volume controls\r\n            'louder': 'VOLUME_UP',\r\n            'volume up': 'VOLUME_UP',\r\n            'quieter': 'VOLUME_DOWN',\r\n            'volume down': 'VOLUME_DOWN'\r\n        };\r\n    }\r\n\r\n    initialize() {\r\n        if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\r\n            console.warn('Speech recognition not supported in this browser');\r\n            return false;\r\n        }\r\n\r\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n        this.recognition = new SpeechRecognition();\r\n        \r\n        this.recognition.continuous = true;\r\n        this.recognition.interimResults = false;\r\n        this.recognition.lang = 'en-US';\r\n        this.recognition.maxAlternatives = 3;\r\n\r\n        this.recognition.onresult = (event) => {\r\n            const lastResult = event.results[event.results.length - 1];\r\n            if (lastResult.isFinal) {\r\n                const transcript = lastResult[0].transcript.toLowerCase().trim();\r\n                this.processCommand(transcript);\r\n            }\r\n        };\r\n\r\n        this.recognition.onerror = (event) => {\r\n            console.error('Speech recognition error:', event.error);\r\n            if (event.error === 'no-speech') {\r\n                // Restart listening after no speech\r\n                setTimeout(() => {\r\n                    if (this.isListening) {\r\n                        this.startListening();\r\n                    }\r\n                }, 1000);\r\n            }\r\n        };\r\n\r\n        this.recognition.onend = () => {\r\n            // Automatically restart if we should be listening\r\n            if (this.isListening) {\r\n                setTimeout(() => {\r\n                    this.startListening();\r\n                }, 100);\r\n            }\r\n        };\r\n\r\n        return true;\r\n    }\r\n\r\n    processCommand(transcript) {\r\n        console.log('Voice input:', transcript);\r\n        \r\n        // Find matching command\r\n        for (const [phrase, command] of Object.entries(this.commands)) {\r\n            if (transcript.includes(phrase)) {\r\n                console.log('Recognized command:', command);\r\n                this.onCommand(command, transcript);\r\n                return;\r\n            }\r\n        }\r\n        \r\n        console.log('No command recognized for:', transcript);\r\n    }\r\n\r\n    startListening() {\r\n        if (!this.recognition) {\r\n            if (!this.initialize()) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        try {\r\n            this.recognition.start();\r\n            this.isListening = true;\r\n            console.log('Voice recognition started');\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Error starting voice recognition:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    stopListening() {\r\n        if (this.recognition && this.isListening) {\r\n            this.recognition.stop();\r\n            this.isListening = false;\r\n            console.log('Voice recognition stopped');\r\n        }\r\n    }\r\n\r\n    toggle() {\r\n        if (this.isListening) {\r\n            this.stopListening();\r\n        } else {\r\n            this.startListening();\r\n        }\r\n        return this.isListening;\r\n    }\r\n\r\n    getStatus() {\r\n        return {\r\n            isListening: this.isListening,\r\n            isSupported: 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window\r\n        };\r\n    }\r\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}